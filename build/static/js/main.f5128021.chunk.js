(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(37)},22:function(e,t,a){},24:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),r=a(14),o=a.n(r),c=(a(22),a(15)),l=a(3),i=a(4),u=a(6),m=a(5),d=a(7),h=(a(24),a(16)),v=a(10),p=a.n(v),f=function(e){p.a.database().ref("votes").push(e)},E=function(e){p.a.database().ref("votes/"+e.key).set(e)},b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("select",{className:"u-full-width",onChange:function(t){return e.props.onChange(t.target.value)},value:this.props.value},[s.a.createElement("option",{key:"",value:"",disabled:!0,hidden:!0},e.props.placeHolder),e.props.values.map(function(e){return s.a.createElement("option",{key:e,value:e},e)})]))}}]),t}(s.a.Component),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleVoteButtonClick=function(){a.state.selectedArtist&&a.state.musicVote&&a.state.performanceVote&&a.state.clothesVote&&(a.vote(),a.setState({selectedArtist:"",musicVote:"",performanceVote:"",clothesVote:""}))},a.vote=function(){var e=a.props.votes.find(function(e){return"Elin"===e.user&&e.artist===a.state.selectedArtist});e?E(Object(h.a)({},e,{artist:a.state.selectedArtist,music:a.state.musicVote,performance:a.state.performanceVote,clothes:a.state.clothesVote})):f({user:"Elin",artist:a.state.selectedArtist,music:a.state.musicVote,performance:a.state.performanceVote,clothes:a.state.clothesVote})},a.state={artists:["Ashes to Ashes \u2013 Anna Bergendahl","Chasing Rivers \u2013 Nano","Hello \u2013 Mohombi","Mina br\xe4nder \u2013 Zeana","Mina fyra \xe5rstider \u2013 Arja Saijonmaa","No Drama \u2013 High15","Not With Me \u2013 Wiktoria"],selectedArtist:"",musicVote:"",performanceVote:"",clothesVote:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"twelve columns"},s.a.createElement(b,{onChange:function(t){return e.setState({selectedArtist:t})},value:this.state.selectedArtist,values:this.state.artists,placeHolder:"V\xe4lj artist"})),s.a.createElement("div",{className:"twelve columns"},s.a.createElement(b,{onChange:function(t){return e.setState({musicVote:t})},value:this.state.musicVote,values:[1,2,3,4,5],placeHolder:"R\xf6sta p\xe5 musiken"})),s.a.createElement("div",{className:"twelve columns"},s.a.createElement(b,{onChange:function(t){return e.setState({performanceVote:t})},value:this.state.performanceVote,values:[1,2,3,4,5],placeHolder:"R\xf6sta p\xe5 framtr\xe4dandet"})),s.a.createElement("div",{className:"twelve columns"},s.a.createElement(b,{onChange:function(t){return e.setState({clothesVote:t})},value:this.state.clothesVote,values:[1,2,3,4,5],placeHolder:"R\xf6sta p\xe5 kl\xe4derna"})),s.a.createElement("div",{className:"twelve columns"},s.a.createElement("button",{type:"button",className:"button-primary",onClick:this.handleVoteButtonClick},"R\xf6sta!")))}}]),t}(n.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("table",{className:"u-full-width"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Namn"),s.a.createElement("th",null,"Artist"),s.a.createElement("th",null,"M"),s.a.createElement("th",null,"F"),s.a.createElement("th",null,"K"))),s.a.createElement("tbody",null,this.props.votes.map(function(e){return s.a.createElement("tr",{key:e.key},s.a.createElement("td",null,e.user),s.a.createElement("td",null,e.artist),s.a.createElement("td",null,e.music),s.a.createElement("td",null,e.performance),s.a.createElement("td",null,e.clothes))})))}}]),t}(s.a.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onVoteAdded=function(e){a.setState(function(t){return{votes:[e].concat(Object(c.a)(t.votes))}})},a.onVoteChanged=function(e){a.setState(function(t){var a=t.votes.findIndex(function(t){return t.key===e.key}),n=t.votes.slice(0,a),s=t.votes.slice(a+1);return{votes:n.concat(e,s)}})},a.state={votes:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t;e=this.onVoteAdded,t=this.onVoteChanged,p.a.initializeApp({databaseURL:"https://eurovision-340ed.firebaseio.com"}),p.a.database().ref("votes").on("child_added",function(t){e({key:t.key,user:t.val().user,artist:t.val().artist,music:t.val().music,performance:t.val().performance,clothes:t.val().clothes})}),p.a.database().ref("votes").on("child_changed",function(e){t({key:e.key,user:e.val().user,artist:e.val().artist,music:e.val().music,performance:e.val().performance,clothes:e.val().clothes})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container App"},s.a.createElement("div",{className:"row"},s.a.createElement("img",{src:"logo.png",width:"100%"})),s.a.createElement("div",{className:"row input"},s.a.createElement(V,{votes:this.state.votes})),s.a.createElement("div",{className:"row votes"},s.a.createElement(k,{votes:this.state.votes})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.f5128021.chunk.js.map